FROM oven/bun:latest

WORKDIR /ci

# Copy everything into container
COPY . .

# Install dependencies
RUN bun install

# Build project
RUN bun run build

# Run tests
RUN bun test

EXPOSE 3000

# Default command: start server or show build output
CMD ["bun", "run", "start"]
